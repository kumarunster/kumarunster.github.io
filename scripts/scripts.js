function handleNavigation(a){var b=$(a).attr("href");if(-1!=b.search("_anchor")){if(b=b.replace("_anchor","_marker"),$(b).length){scrollByClick=b;var c=70;0==$(".fixedNavbar").length&&(c=200);var d=$(b).offset().top;return $("body, html").animate({scrollTop:d-c},500,function(){scrollByClick=""}),!1}}else window.location=b}function topMenu(){var a=$('[id*="_marker"]'),b=$(window);b.scroll(function(){var c=b.scrollTop();w=b.width(),c>15&&w>768?$("#navigation").addClass("fixedNavbar"):($("#navigation").removeClass("fixedNavbar"),$("#navlinks li").removeClass("active styler_parent_active")),a.each(function(){var a="#"+$(this).attr("id");if(scrollByClick==a||!scrollByClick){var b=$(this).offset().top,d=a.replace("_marker","_anchor");c>=b-$("#header .inner").height()&&($("#navlinks li a[href='"+d+"']").closest("li").addClass("active styler_parent_active").siblings().removeClass("active styler_parent_active"),$("#navlinks select option[value='"+d+"']").attr("selected",!0).siblings().attr("selected",!1))}})})}function myOrientResizeFunction(){progress_bars(),initProgressBarWithImage()}function initProgressBarWithImage(){$(".progress_bars_with_image").length&&$(".progress_bars_with_image").not(".visible").each(function(){var a=$(this);if(scrollTop+window_h>a.offset().top){a.html("");var b=parseInt(a.attr("data-number")),c=parseInt(a.attr("data-value")),d=a.attr("data-color"),e=a.attr("data-icon"),f=parseInt(a.attr("data-height")),g=a.attr("data-letterSpacing");g||(g=0),a.css({"font-size":f+"px","line-height":f+"px","letter-spacing":g+"em"});for(var h=0;b>h;h++){var i=$('<div class="item '+e+'"></div>');a.append(i)}a.find(".item").each(function(a){if(c>a){var b=$(this);b.addClass("active"),setTimeout(function(){b.css("color",d)},300*a)}}),setTimeout(function(){var c=i.width(),d=c*b;d>a.width()&&a.find(".item.active:last").addClass("break")},200),a.addClass("visible")}else{var i=a.find(".item"),b=parseInt(a.attr("data-number"));a.find(".item.break").removeClass("break");var j=i.width(),k=j*b;k>a.width()&&a.find(".item.active:last").addClass("break")}})}function progress_bars(a){$(".progress_bars").length&&$(".progress_bars").not(".visible").each(function(){var b=$(this);b.css("width","auto");var c=b.attr("data-width")?parseInt(b.attr("data-width")):b.parent().width();b.hasClass("horizontal")&&c<b.parent().width()&&(c=b.parent().width());var d=parseInt(b.attr("data-height")),e=b.attr("data-color"),f=b.attr("data-bg"),g=b.attr("data-title"),h=parseInt(b.attr("data-value"))/100,i=b.attr("data-text");if(i=void 0==i?"":'<div class="progress_line_text">'+i+"</div>",h||(h=1),e=hexDec(e),b.css({width:c,height:d}),f||(f="#ccc"),b.css({"background-color":f}),a){if(g&&""!=g&&"false"!=g)var j=b.find(".title_block");var k=b.find(".progress_line")}else{b.html("");var k=$('<div class="progress_line">'+i+"</div>").css("background-color","rgb("+e+")");if(g&&""!=g&&"false"!=g){var j=$('<div class="title_block"></div>');"bottom"!=g&&j.css({height:2*d-2,width:2*d-2,"margin-right":1-d}),b.hasClass("style1")&&("inner"==g?j.css({"border-color":"rgb("+e+")",color:"rgb("+e+")","line-height":2*d-6+"px","font-size":b.hasClass("vertical")?c/1.7:d/1.7}):"bottom"==g&&(j.css({color:"rgb("+e+")","font-size":b.hasClass("vertical")?.35*c:.35*d,"line-height":b.hasClass("vertical")?.35*c+20+"px":.35*d+20+"px"}),b.css("margin-bottom",b.hasClass("vertical")?.6*c:.6*d))),b.hasClass("style2")&&("inner"==g?j.css({background:"rgb("+e+")","margin-bottom":1-d,"line-height":2*d-2+"px","font-size":b.hasClass("vertical")?c/1.7:d/1.7}):"bottom"==g&&(j.css({color:"rgb("+e+")","font-size":b.hasClass("vertical")?.35*c:.35*d,"line-height":b.hasClass("vertical")?.35*c+20+"px":.35*d+20+"px"}),b.css("margin-bottom",b.hasClass("vertical")?.6*c:.6*d)))}b.append(k)}if(b.hasClass("vertical")){var l=d*(1-h);scrollTop+window_h>b.offset().top&&(k.animate({top:l},{duration:2e3,step:function(a){if(g&&""!=g&&"false"!=g){var b=Math.round(100*(1-a/d));j.html(b+"%")}}}),g&&""!=g&&"false"!=g&&"bottom"!=g&&j.animate({top:l},2e3),b.addClass("visible"))}else{var l=c*(1-h);scrollTop+window_h>b.offset().top&&(k.animate({right:l},{duration:2e3,step:function(a){if(g&&""!=g&&"false"!=g){var b=Math.round(100*(1-a/c));j.html(b+"%")}}}),g&&""!=g&&"false"!=g&&"bottom"!=g&&j.animate({right:l},2e3),b.addClass("visible"))}})}function easePieChart(){$(".easy-pie-chart").length&&$(".easy-pie-chart").not(".visible").each(function(){var a=$(this);if(scrollTop+window_h>a.offset().top){a.html("<span></span>");var b=a.attr("data-size");a.attr("data-trackColor");var c=a.attr("data-color"),d=a.attr("data-bgColor"),e=a.attr("data-lineWidth"),f=a.attr("data-cap");d||(d="#cccccc"),a.easyPieChart({animate:2e3,scaleColor:!1,lineWidth:e,lineCap:f,size:b,trackColor:d,barColor:c}),a.addClass("visible")}})}function processBox(){$(".styled_list").length&&$(".styled_list").each(function(){var a=$(this),b=a.attr("data-color"),c=a.attr("data-type");b=b?b.split(","):["#ffffff"],a.children("li").each(function(a){if($(this).find(".text").length)var d=$(this).find(".text").html();else var d=$(this).html();$(this).html("");var e=$('<div class="text">'+d+"</div>");if("process_box"==c){var f=a+1+"";f.length<2&&(f="0"+f);var g=b[a%b.length],h=$('<div class="num" style="background-color: '+g+'">'+f+"</div>")}else if("large_numbers"==c)var f=a+1+".",i=b[a%b.length],h=$('<div class="num" style="color: '+i+'">'+f+"</div>");$(this).append(h),$(this).append(e)})})}function infoDeviders(){$(".info_divider").length&&$(".info_divider").each(function(){var a=$(this),b=a.attr("data-width"),c=a.attr("data-height");b&&a.css("width",b),c&&a.css("height",c);var d=$('<i style=""></i>');if(a.hasClass("vertical")){if(b)var e=b}else if(c)var e=c;e&&d.css({width:e,height:e,"line-height":e+"px"}),a.append(d)})}function trends(){$(".trend").length&&$(".trend").each(function(){var a=$(this),b=100,c=a.outerHeight()-b;a.width();var d=a.attr("data-color"),e=parseInt(a.attr("data-value")),f=a.attr("data-trend"),g=a.attr("data-name"),h=.356*c,i=.48*c,j=$("<div class='arrow'></div>"),k=$("<i />"),l=$("<div class='value'></div>"),m=$("<div class='name'>"+g+"</div>");scrollTop+window_h>a.offset().top&&!a.hasClass("visible")&&(l.css({color:d}),m.css({color:d}),j.append(k),a.append(j),a.append(l),a.append(m),j.css({width:h,"margin-left":"-"+h/2+"px",background:d,height:.52*c}),k.css({"border-width":h+"px","margin-left":-h+"px"}),"up"==f?(j.css({bottom:-c}),k.css({"border-bottom-color":d,"border-bottom-width":i+"px",bottom:"100%"}),j.animate({bottom:b},{duration:2e3,step:function(a){var d=Math.round((a+c)/(c+b)*e);l.html(d+"%")}})):"down"==f&&(j.css({top:-c}),k.css({"border-top-color":d,"border-top-width":i+"px",top:"100%"}),j.animate({top:0},{duration:2e3,step:function(a){var b=Math.round((1-a/-c)*e);l.html(b+"%")}})),a.addClass("visible"))})}function hexDec(a){var b=a.slice(1).match(/.{2}/g);return b[0]=parseInt(b[0],16),b[1]=parseInt(b[1],16),b[2]=parseInt(b[2],16),b[0]+", "+b[1]+", "+b[2]}function styledImg(){$("img.styled").each(function(){$(this).wrap($('<div class="styled_img_container"/>'))})}function infographBottom(){var a=0;$(".infograph .desc").each(function(){var b=$(this).outerHeight();b>a&&(a=b)}),153>a&&(a=153),$("#wrapper .infograph > sup").css("height",a)}var scrollByClick;!function(a){a.migrateMute=!0,a.migrateTrace=!1,a("#logo").click(function(a){a.preventDefault(),handleNavigation(this)}),a("#navlinks li a").click(function(a){a.preventDefault(),handleNavigation(this)}),topMenu(),a.getScript("http://assets.pinterest.com/js/pinit.js").done(function(){})}(jQuery);var w;$(function(){w=$(window).width(),$(".fullwidthbanner").length&&$(".fullwidthbanner").revolution({delay:9e3,startheight:363,startwidth:960,navigationType:"both",navigationArrows:"verticalcentered",navigationStyle:"round",touchenabled:"on",onHoverStop:"on",navOffsetHorizontal:0,navOffsetVertical:20,stopAtSlide:-1,stopAfterLoops:-1,fullWidth:"on"})}),function(a,b){"object"==typeof exports?module.exports=b(require("jQuery")):"function"==typeof define&&define.amd?define("EasyPieChart",["jQuery"],b):b(a.jQuery)}(this,function(a){var b=function(a,b){var c,d=document.createElement("canvas");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size,a.appendChild(d);var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((-0.5+b.rotate/180)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(0,c||1),1),e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,!1),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c,d=24;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)0===d%6?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.lineWidth)};this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,a>0&&h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate),g=b.easing(this,f,a,c-a,b.animate);this.draw(g),b.onStep(a,c,g),f>=b.animate?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:1e3,easing:function(a,b,c,d,e){return b/=e/2,1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&"undefined"!=typeof c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));e.easing="string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?jQuery.easing[e.easing]:d.easing,this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),g()};a.fn.easyPieChart=function(b){return this.each(function(){a.data(this,"easyPieChart")||a.data(this,"easyPieChart",new c(this,b))})}});var scrollTop,window_h;$(function(){scrollTop=$(window).scrollTop(),window_h=$(window).height(),styledImg()}),$(window).scroll(function(){scrollTop=$(window).scrollTop(),initProgressBarWithImage(),progress_bars(!0),trends(),easePieChart()}),$(window).resize(function(){window_h=$(window).height(),progress_bars(!0),initProgressBarWithImage()}),$(window).bind("orientationchange",function(){myOrientResizeFunction()}),$(function(){infoDeviders()}),$(window).resize(function(){infographBottom()}),$(window).load(function(){infographBottom(),$("body").css("visibility","visible"),processBox(),initProgressBarWithImage(),progress_bars(),easePieChart(),trends()});